{"version":3,"sources":["Components/Loader/Loading.module.css","Components/ImageGallery/ImageGallery.module.css","Components/Button/Button.module.css","Components/SearchBar/SearchBar.module.css","Components/SearchBar/SearchBar.js","Components/ImageGalleryItem/ImageGalleryItem.js","Components/ImageGallery/ImageGallery.js","services/api.js","Components/Button/Button.js","Components/Modal/Modal.js","Components/Loader/Loading.js","App.js","index.js","Components/ImageGalleryItem/ImageGalleryItem.module.css","Components/Modal/Modal.module.css"],"names":["module","exports","SearchBar","state","inputValue","handleChange","e","setState","target","value","handleSubmit","preventDefault","loading","props","handleSearchFormSubmit","this","className","style","Searchbar","SearchForm","onSubmit","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","autoFocus","placeholder","onChange","Component","ImageGalleryItem","article","webformatURL","id","tags","largeImageURL","src","alt","ImageGalleryItemImage","ImageGallery","articles","openModal","onClick","map","key","searchQuery","page","axios","get","then","data","hits","Button","loadMore","Modal","handleCLick","nodeName","code","closeModal","window","addEventListener","document","removeEventListener","imgSrc","imgAlt","Overlay","Loading","div","color","height","width","App","error","isShown","isLoading","query","API","prevState","catch","finally","console","log","prevProps","length","scrollTo","top","documentElement","scrollHeight","behavior","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.71b48c9a.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Loading\":\"Loading_Loading__2dAJO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__2h805\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__xpW5n\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"SearchBar_Searchbar__3TwnX\",\"SearchForm\":\"SearchBar_SearchForm__D69P2\",\"SearchFormButton\":\"SearchBar_SearchFormButton__2NhiP\",\"SearchFormButtonLabel\":\"SearchBar_SearchFormButtonLabel__1Koie\",\"SearchFormInput\":\"SearchBar_SearchFormInput__iCePG\"};","import React, { Component } from \"react\";\r\nimport style from \"./SearchBar.module.css\";\r\n\r\nexport default class SearchBar extends Component {\r\n  state = {\r\n    inputValue: \"\"\r\n  };\r\n\r\n  handleChange = e => {\r\n    this.setState({\r\n      inputValue: e.target.value\r\n    });\r\n  };\r\n\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n\r\n    this.setState({\r\n      loading: true\r\n    });\r\n    // console.log(this.props);\r\n    this.props.handleSearchFormSubmit(this.state.inputValue);\r\n    this.setState({\r\n      inputValue: \"\"\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const { inputValue } = this.state;\r\n\r\n    return (\r\n      <header className={style.Searchbar}>\r\n        <form className={style.SearchForm} onSubmit={this.handleSubmit}>\r\n          <button type=\"submit\" className={style.SearchFormButton}>\r\n            <span className={style.SearchFormButtonLabel}>Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className={style.SearchFormInput}\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n            value={inputValue}\r\n            onChange={this.handleChange}\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport style from \"./ImageGalleryItem.module.css\";\r\n\r\nexport default function ImageGalleryItem({ article }) {\r\n  const { id, webformatURL, tags, largeImageURL } = article;\r\n  return (\r\n    <li className={style.ImageGalleryItem}>\r\n      <img\r\n        src={webformatURL}\r\n        alt={tags}\r\n        className={style.ImageGalleryItemImage}\r\n      />\r\n    </li>\r\n  );\r\n}\r\n","import React from \"react\";\r\n// import ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\r\nimport style from \"./ImageGallery.module.css\";\r\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\r\n\r\nexport default function ImageGallery({ articles, openModal }) {\r\n  return (\r\n    <>\r\n      <ul className={style.ImageGallery} onClick={openModal}>\r\n        {articles.map((article) => (\r\n          <ImageGalleryItem key={article.id} article={article} />\r\n        ))}\r\n      </ul>\r\n    </>\r\n  );\r\n}\r\n","import axios from \"axios\";\r\n\r\nexport default {\r\n  getPictures(searchQuery, page) {\r\n    return axios\r\n      .get(\r\n        `https://pixabay.com/api/?q=${searchQuery}&page=${page}&key=17555689-e3a38662af6719ca5a1675e73&image_type=photo&orientation=horizontal&per_page=12`\r\n      )\r\n\r\n      .then(({ data }) => {\r\n        return data.hits;\r\n      });\r\n  }\r\n};\r\n","import React from \"react\";\r\nimport style from \"./Button.module.css\";\r\n\r\nexport default function Button({ loadMore }) {\r\n  return (\r\n    <>\r\n      <button className={style.Button} onClick={loadMore} type=\"button\">\r\n        Load more\r\n      </button>\r\n    </>\r\n  );\r\n}\r\n","import React, { Component } from \"react\";\r\nimport style from \"./Modal.module.css\";\r\n\r\nexport default class Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener(\"keydown\", this.handleCLick);\r\n    document.addEventListener(\"click\", this.handleCLick);\r\n  }\r\n\r\n  componentWillMount() {\r\n    window.removeEventListener(\"keydown\", this.handleCLick);\r\n    document.removeEventListener(\"click\", this.handleCLick);\r\n  }\r\n\r\n  handleCLick = (e) => {\r\n    const target = e.target;\r\n\r\n    if (target.nodeName !== \"IMG\" || e.code === \"ESC\") {\r\n      this.props.closeModal();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { imgSrc, imgAlt } = this.props;\r\n\r\n    return (\r\n      <div className={style.Overlay}>\r\n        <div className={style.Modal}>\r\n          <img src={imgSrc} alt={imgAlt} />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport Loader from \"react-loader-spinner\";\r\nimport style from \"./Loading.module.css\";\r\n\r\nexport default class Loading extends Component {\r\n  //other logic\r\n  render() {\r\n    return (\r\n      <div className={style.div}>\r\n        <Loader\r\n          type=\"Oval\"\r\n          color=\"#00BFFF\"\r\n          height={80}\r\n          width={80}\r\n          className={style.Loading}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\nimport SearchBar from \"./Components/SearchBar/SearchBar\";\nimport ImageGallery from \"./Components/ImageGallery/ImageGallery\";\nimport API from \"./services/api\";\nimport Button from \"./Components/Button/Button\";\nimport Modal from \"./Components/Modal/Modal\";\nimport Loading from \"./Components/Loader/Loading\";\n\nexport default class App extends Component {\n  state = {\n    articles: [],\n    searchQuery: \"\",\n    page: 1,\n    error: null,\n    isShown: false,\n    imgSrc: \"\",\n    imgAlt: \"\",\n    isLoading: false,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const { searchQuery, page } = this.state;\n\n    if (prevState.searchQuery !== searchQuery) {\n      API.getPictures(searchQuery, page)\n        .then((data) => {\n          this.setState((prevState) => ({\n            page: prevState.page + 1,\n            articles: data,\n            isLoading: true,\n          }));\n        })\n        .catch((error) => this.setState({ error }))\n        .finally(() => {\n          this.setState({\n            isLoading: false,\n          });\n        });\n    }\n\n    if (prevState.articles.length !== this.state.articles) {\n      // console.log(\"HEIGHT\", document.documentElement.scrollHeight);\n      window.scrollTo({\n        top: document.documentElement.scrollHeight,\n        behavior: \"smooth\",\n      });\n    }\n  }\n\n  handleSearchFormSubmit = (query) => {\n    this.setState({\n      searchQuery: query,\n      articles: [],\n    });\n  };\n\n  loadMore = () => {\n    const { searchQuery, page } = this.state;\n\n    this.setState({\n      isLoading: true,\n    });\n\n    API.getPictures(searchQuery, page)\n      .then((articles) => {\n        this.setState((prevState) => ({\n          page: prevState.page + 1,\n          articles: [...prevState.articles, ...articles],\n        }));\n      })\n      .catch((error) => this.setState({ error }))\n      .finally(() => {\n        this.setState({ isLoading: false });\n      });\n  };\n\n  openModal = (e) => {\n    console.log(\"e.target\", e.target);\n    const target = e.target;\n\n    if (target.nodeName === \"IMG\") {\n      this.setState(\n        (prevState) => ({\n          isShown: !prevState.isShown,\n        }),\n        this.setState({\n          imgSrc: target.src,\n          imgAlt: target.alt,\n        })\n      );\n    } else return;\n  };\n\n  closeModal = () => {\n    this.setState({\n      isShown: false,\n    });\n  };\n\n  render() {\n    const { articles, isShown, imgSrc, imgAlt, isLoading } = this.state;\n    console.log(isLoading);\n    return (\n      <>\n        <SearchBar handleSearchFormSubmit={this.handleSearchFormSubmit} />\n        {isLoading && <Loading />}\n        <ImageGallery openModal={this.openModal} articles={articles} />\n        {articles.length > 0 && <Button loadMore={this.loadMore} />}\n\n        {isShown && (\n          <Modal imgSrc={imgSrc} imgAlt={imgAlt} closeModal={this.closeModal} />\n        )}\n      </>\n    );\n  }\n}\n","import React, { StrictMode } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <StrictMode>\n    <App />\n  </StrictMode>,\n  document.getElementById(\"root\")\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__yw1ww\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__2M4Rg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2qbhf\",\"Modal\":\"Modal_Modal__2S_Cj\"};"],"sourceRoot":""}