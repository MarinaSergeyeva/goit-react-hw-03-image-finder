(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{10:function(e,t,a){e.exports={Loading:"Loading_Loading__2dAJO"}},22:function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__2h805"}},24:function(e,t,a){e.exports={Button:"Button_Button__xpW5n"}},26:function(e,t,a){e.exports=a(70)},31:function(e,t,a){},7:function(e,t,a){e.exports={Searchbar:"SearchBar_Searchbar__3TwnX",SearchForm:"SearchBar_SearchForm__D69P2",SearchFormButton:"SearchBar_SearchFormButton__2NhiP",SearchFormButtonLabel:"SearchBar_SearchFormButtonLabel__1Koie",SearchFormInput:"SearchBar_SearchFormInput__iCePG"}},70:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(21),c=a.n(o),l=(a(31),a(11)),i=a(3),s=a(4),u=a(6),m=a(5),h=a(7),d=a.n(h),g=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={inputValue:""},e.handleChange=function(t){e.setState({inputValue:t.target.value})},e.handleSubmit=function(t){t.preventDefault(),e.setState({loading:!0}),e.props.handleSearchFormSubmit(e.state.inputValue),e.setState({inputValue:""})},e}return Object(s.a)(a,[{key:"render",value:function(){var e=this.state.inputValue;return r.a.createElement("header",{className:d.a.Searchbar},r.a.createElement("form",{className:d.a.SearchForm,onSubmit:this.handleSubmit},r.a.createElement("button",{type:"submit",className:d.a.SearchFormButton},r.a.createElement("span",{className:d.a.SearchFormButtonLabel},"Search")),r.a.createElement("input",{className:d.a.SearchFormInput,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",value:e,onChange:this.handleChange})))}}]),a}(n.Component),p=a(22),f=a.n(p),S=a(8),y=a.n(S);function v(e){var t=e.article,a=(t.id,t.webformatURL),n=t.tags;t.largeImageURL;return r.a.createElement("li",{className:y.a.ImageGalleryItem},r.a.createElement("img",{src:a,alt:n,className:y.a.ImageGalleryItemImage}))}function b(e){var t=e.articles,a=e.openModal;return r.a.createElement(r.a.Fragment,null,r.a.createElement("ul",{className:f.a.ImageGallery,onClick:a},t.map((function(e){return r.a.createElement(v,{key:e.id,article:e})}))))}var _=a(23),E=a.n(_),I=function(e,t){return E.a.get("https://pixabay.com/api/?q=".concat(e,"&page=").concat(t,"&key=17555689-e3a38662af6719ca5a1675e73&image_type=photo&orientation=horizontal&per_page=12")).then((function(e){return e.data.hits}))},w=a(24),L=a.n(w);function F(e){var t=e.loadMore;return r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{className:L.a.Button,onClick:t,type:"button"},"Load more"))}var M=a(9),O=a.n(M),k=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).handleCLick=function(t){"IMG"===t.target.nodeName&&"ESC"!==t.code||e.props.closeModal()},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleCLick),document.addEventListener("click",this.handleCLick)}},{key:"componentWillMount",value:function(){window.removeEventListener("keydown",this.handleCLick),document.removeEventListener("click",this.handleCLick)}},{key:"render",value:function(){var e=this.props,t=e.imgSrc,a=e.imgAlt;return r.a.createElement("div",{className:O.a.Overlay},r.a.createElement("div",{className:O.a.Modal},r.a.createElement("img",{src:t,alt:a})))}}]),a}(n.Component),j=a(25),C=a.n(j),B=a(10),N=a.n(B),G=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:N.a.div},r.a.createElement(C.a,{type:"Oval",color:"#00BFFF",height:80,width:80,className:N.a.Loading}))}}]),a}(n.Component),x=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={articles:[],searchQuery:"",page:1,error:null,isShown:!1,imgSrc:"",imgAlt:"",isLoading:!1},e.handleSearchFormSubmit=function(t){e.setState({searchQuery:t,page:1,articles:[]})},e.loadMore=function(){var t=e.state,a=t.searchQuery,n=t.page;e.setState({isLoading:!0}),I(a,n).then((function(t){e.setState((function(e){return{page:e.page+1,articles:[].concat(Object(l.a)(e.articles),Object(l.a)(t))}}))})).catch((function(t){return e.setState({error:t})})).finally((function(){e.setState({isLoading:!1})}))},e.openModal=function(t){console.log("e.target",t.target);var a=t.target;"IMG"===a.nodeName&&e.setState((function(e){return{isShown:!e.isShown}}),e.setState({imgSrc:a.src,imgAlt:a.alt}))},e.closeModal=function(){e.setState({isShown:!1})},e}return Object(s.a)(a,[{key:"componentDidUpdate",value:function(e,t){var a=this,n=this.state,r=n.searchQuery,o=n.page;t.searchQuery!==r&&I(r,o).then((function(e){a.setState((function(t){return{page:t.page+1,articles:e,isLoading:!0}}))})).catch((function(e){return a.setState({error:e})})).finally((function(){a.setState({isLoading:!1})})),t.articles.length!==this.state.articles.length&&window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})}},{key:"render",value:function(){var e=this.state,t=e.articles,a=e.isShown,n=e.imgSrc,o=e.imgAlt,c=e.isLoading;return console.log(c),r.a.createElement(r.a.Fragment,null,r.a.createElement(g,{handleSearchFormSubmit:this.handleSearchFormSubmit}),c&&r.a.createElement(G,null),r.a.createElement(b,{openModal:this.openModal,articles:t}),t.length>0&&r.a.createElement(F,{loadMore:this.loadMore}),a&&r.a.createElement(k,{imgSrc:n,imgAlt:o,closeModal:this.closeModal}))}}]),a}(n.Component);c.a.render(r.a.createElement(n.StrictMode,null,r.a.createElement(x,null)),document.getElementById("root"))},8:function(e,t,a){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__yw1ww",ImageGalleryItemImage:"ImageGalleryItem_ImageGalleryItemImage__2M4Rg"}},9:function(e,t,a){e.exports={Overlay:"Modal_Overlay__2qbhf",Modal:"Modal_Modal__2S_Cj"}}},[[26,1,2]]]);
//# sourceMappingURL=main.665e7406.chunk.js.map